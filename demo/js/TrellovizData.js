"requires jQuery";"use strict";var TrellovizData=function(){};
TrellovizData.prototype={computeVizData_all_lists:function(e){e.sort(function(a,b){var c=Date.parse(a.date),d=Date.parse(b.date);return c<d?-1:c>d?1:0});var c=[],f=[],d={},j={},a={label:[],values:[]};$.each(e,function(e,b){var k=b.date,i=!0;if("createCard"==b.type){var g=b.data.list.id;d[g]||(c.push(g),f.push(b.data.list.name));d[g]=(d[g]||0)+1;j[b.data.card.id]=g}else"updateCard"==b.type?(!0==b.data.card.closed&&!1==b.data.old.closed&&d[j[b.data.card.id]]--,"undefined"!=typeof b.data.listAfter&&
("undefined"!=b.data.listBefore&&b.data.listAfter.id!=b.data.listBefore.id)&&(d[b.data.listAfter.id]++,d[b.data.listBefore.id]--)):(i=!1,console.error(b.type));i&&a.values.push({label:k,values:function(){var a=[];$.each(c,function(b,c){a.push(d[c])});return a}()})});for(e=0;e<f.length;e++)a.label.push(f[e]);return a},computeVizData_sequential:function(e){var c={},f={};c["500daadf637e1efe2a2348fa"]=0;c["500daadf637e1efe2a2348fb"]=0;c["500daadf637e1efe2a2348fc"]=0;e.sort(function(c,a){var d=Date.parse(c.date),
b=Date.parse(a.date);return d<b?-1:d>b?1:0});var d={label:["ToDo","WiP","Done"],color:["#ff0000","#00ff00","#0000ff"],values:[]};$.each(e,function(e,a){console.info(a.date);var h=a.date;console.info(new Date(h));"createCard"==a.type?(c[a.data.list.id]++,f[a.data.card.id]=a.data.list.id):"updateCard"==a.type?(!0==a.data.card.closed&&!1==a.data.old.closed&&c[f[a.data.card.id]]--,"undefined"!=typeof a.data.listAfter&&("undefined"!=a.data.listBefore&&a.data.listAfter.id!=a.data.listBefore.id)&&(c[a.data.listAfter.id]++,
c[a.data.listBefore.id]--)):console.info(a.type);d.values.push({label:h,values:[c["500daadf637e1efe2a2348fa"],c["500daadf637e1efe2a2348fb"],c["500daadf637e1efe2a2348fc"]]})});return d}};

{"version":3,"file":"trelloviz.min.js","sources":["../../src/app/js/Trelloviz.js","../../src/app/js/TrellovizCoreEngine.js"],"names":["Trelloviz","viewModel","apiKey","ko","observable","loggedIn","showSpinner","fullTrelloUserName","trelloLists","observableArray","html5LocalStorageAvailable","core_option_keepArchiveCards","areaChart","vizDataForJit","showConfigPanel","toggleConfigApiKeyPanelVisible","visible","actionListsUpdated","this","updateVizDataFromTrelloListsSettings","loadJSON","trellolists","jitdata","index","length","color","actionLogIn","apikey","jQuery","getScript","trelloLogin","actionLogOut","Trello","deauthorize","actionSaveApiKeyToLocalStorage","localStorage","trelloviz_api_key","setNewData","trellodata","opts","keepArchivedCards","engine","Core","Engine","computeVizData_all_lists","showGraphic","listsWithNaturalOrder","retrieveListsWithNaturalOrder","forEach","item","trelloLoadAndShowUserInfo","members","get","member","fullName","trelloLoadAndShowBoards","showBoards","onAuthorize","reallyLoggedIn","authorized","$","fadeIn","delay","fadeOut","onAuthorizeError","authorize","interactive","type","success","error","expiration","scope","read","write","onShowActionForBoard","boardId","limit","boards","empty","click","selectedBoardId","val","each","idx","board","id","text","name","appendTo","viz_data","$jit","AreaChart","injectInto","animate","Margin","top","left","right","bottom","labelOffset","showAggregates","showLabels","Tips","enable","onShow","tip","elem","addClass","value","filterOnClick","restoreOnRightClick","options","isKeepArchivedCards","_options","defaultColors","listOrder","counterPerList","cardToListMap","label","values","reset_properties","trelloActionData","sortTrelloDataByDateAscending","processSingleTrelloActionRecord","retrieveLabelNamesFromList","cleanupNullValues","element","i","len","sort","a","b","unixtimestamp_a","Date","parse","date","unixtimestamp_b","actionArchiveCard","trelloActionRecord","listid","data","card","listIdx","actionCreateCard","list","ensureListIsRegistered","listIdAndName","sizeOfObject","actionMoveCard","listidBefore","listBefore","listidAfter","listAfter","Math","max","recordIndex","unixtimestamp","validData","actions","ignoreAction","closed","old","call","console","push","retrieveValueRowWithNaturalOrder","valueRowWithNaturalOrder","hashmap","key","hasOwnProperty"],"mappings":"AAsBA,YAEA,IAAwB,mBAAbA,WACT,GAAIA,aCDN,IDIAA,UAAUC,WACRC,OAAOC,GAAGC,WAAW,IACrBC,SAASF,GAAGC,YAAW,GACvBE,YAAYH,GAAGC,YAAW,GAC1BG,mBAAmBJ,GAAGC,WAAW,IACjCI,YAAYL,GAAGM,oBACfC,2BAA2BP,GAAGC,YAAW,GAEzCO,6BAA6BR,GAAGC,YAAW,GAE3CQ,UAAU,KACVC,cAAc,KAEdC,gBAAgBX,GAAGC,YAAW,GAC9BW,+BAA+B,WAC7B,GAAIC,SAAUhB,UAAUC,UAAUa,iBAClCd,WAAUC,UAAUa,iBAAiBE,UAGvCC,mBAAmB,WACjBC,KAAKC,uCACLD,KAAKN,UAAUQ,SAASF,KAAKL,gBAG/BM,qCAAqC,WAInC,IAHA,GAAIE,aAAcH,KAAKV,cACnBc,QAAUJ,KAAKL,cACfU,MAAQF,YAAYG,OACjBD,SACLD,QAAQG,MAAMF,OAASF,YAAYE,OAAOE,SAI9CC,YAAY,WACV,GAAIC,QAAS3B,UAAUC,UAAUC,QACnB,OAAVyB,QAAmC,IAAjBA,OAAOH,QAC3BxB,UAAUC,UAAUa,iBAAgB,GACpCc,OAAOC,UAAU,0CAA4CF,OAAQ3B,UAAU8B,cAG/E9B,UAAUC,UAAUa,iBAAgB,IAIxCiB,aAAa,WACX/B,UAAUC,UAAUI,UAAS,GAC7B2B,OAAOC,eAGTC,+BAA+B,WAC7BC,aAAaC,kBAAoBlB,KAAKhB,UAGxCmC,WAAW,SAAUC,YACnBtC,UAAUC,UAAUK,aAAY,EAGhC,IAAIiC,QACJA,MAAKC,kBAAoBxC,UAAUC,UAAUU,8BAC7C,IAAI8B,QAAS,GAAIzC,WAAU0C,KAAKC,OAAOJ,KACvCvC,WAAUC,UAAUY,cAAgB4B,OAAOG,yBAAyBN,YACpEtC,UAAUC,UAAUW,UAAYZ,UAAU6C,YAAY7C,UAAUC,UAAUY,cAG1E,IAAIiC,uBAAwBL,OAAOM,+BACnCD,uBAAsBE,QAAQ,SAAUC,MACtCA,KAAKxB,MAAQtB,GAAGC,WAAW6C,KAAKxB,SAElCzB,UAAUC,UAAUO,YAAYsC,yBAKpC9C,UAAUkD,0BAA4B,WACpChC,KAAKjB,UAAUK,aAAY,GAC3B0B,OAAOmB,QAAQC,IAAI,KAAM,SAAUC,QACjCrD,UAAUC,UAAUM,mBAAmB8C,OAAOC,UAC9CtD,UAAUC,UAAUK,aAAY,MAIpCN,UAAUuD,wBAA0B,WAClCrC,KAAKjB,UAAUK,aAAY,GAC3B0B,OAAOoB,IAAI,uBAAyBpD,UAAUwD,aAGhDxD,UAAUyD,YAAc,WACtBzD,UAAUC,UAAUK,aAAY,EAChC,IAAIoD,gBAAmC,mBAAV1B,SAA0BA,OAAO2B,YAC9D3D,WAAUC,UAAUI,SAASqD,gBAEzBA,iBACF1D,UAAUkD,4BAEVU,EAAE,aAAaC,SAASC,MAAM,KAAMC,UAEpC/D,UAAUuD,4BAIdvD,UAAUgE,iBAAmB,WAC3BhE,UAAUC,UAAUI,UAAS,GAC7BL,UAAUC,UAAUK,aAAY,IAGlCN,UAAU8B,YAAc,WACtB9B,UAAUC,UAAUK,aAAY,GAChC0B,OAAOiC,WACLC,aAAY,EACZC,KAAK,QACLC,QAAQpE,UAAUyD,YAClBY,MAAMrE,UAAUgE,iBAChBM,WAAW,OACXC,OAAQC,MAAK,EAAMC,OAAM,MAI7BzE,UAAU0E,qBAAuB,SAAUC,SACzC3E,UAAUC,UAAUK,aAAY,GAChC0B,OAAOoB,IAAI,UAAYuB,QAAU,YAA4CC,MAAM,QAAS5E,UAAUC,UAAUoC,aAGlHrC,UAAUwD,WAAa,SAAUqB,QAC/B7E,UAAUC,UAAUK,aAAY,GAEhCsD,EAAE,qBAAqBkB,QAEvBlB,EAAE,iBAAiBmB,MAAM,WACvB,GAAIC,iBAAkBpB,EAAE,qBAAqBqB,KAC7CjF,WAAU0E,qBAAqBM,mBAGjCpB,EAAEsB,KAAKL,OAAQ,SAAUM,IAAKC,OAC5BxB,EAAE,iBAAmBwB,MAAMC,GAAK,KAAKC,KAAKF,MAAMG,MAAMC,SAAS,wBAKnExF,UAAU6C,YAAc,SAAU4C,UAEhC7B,EAAE,YAAYkB,QACdlB,EAAE,sDAAsD4B,SAAS,YACjE5B,EAAE,mDAAmD4B,SAAS,iBAE9D,IAAI5E,WAAY,GAAI8E,MAAKC,WAEvBC,WAAW,aAEXC,SAAQ,EACRC,QAASC,IAAI,EAAGC,KAAK,EAAGC,MAAM,EAAGC,OAAO,GACxCC,YAAY,GACZC,gBAAe,EACfC,YAAW,EACXlC,KAAK,mBASLmC,MACEC,QAAO,EACPC,OAAO,SAAUC,IAAKC,MAMpB9C,EAAE6C,KAAK3B,QACPlB,EAAE,UACC+C,SAAS,SACTA,SAAS,cACTrB,KAAK,GAAKoB,KAAKnB,KAAO,KAAOmB,KAAKE,MAAQ,KAC1CpB,SAASiB,OAIhBI,eAAc,EACdC,qBAAoB,GAItB,OAFAlG,WAAUQ,SAASqE,UAEZ7E,WAIT,WAC0B,mBAAd,WACRZ,UAAUC,UAAUS,4BAA2B,GAC3CyB,aAAaC,mBACfpC,UAAUC,UAAUC,OAAOiC,aAAaC,uBCpMtB,mBAAbpC,WACT,GAAIA,aAGNA,WAAU0C,QACV1C,UAAU0C,KAAKC,OAAS,SAAUoE,SAMhC,QAASC,uBACP,MAAOC,UAASzE,kBALlBuE,QAAUA,WACV,IAAIE,YAOJ,OANAA,UAASzE,kBAAyD,mBAA7BuE,SAAQvE,kBAAoCuE,QAAQvE,mBAAoB,GAQ3G0E,iBACAC,aACAC,kBACAC,iBACAxG,eACEyG,SACAC,UACA9F,UAGF+F,iBAAiB,WACftG,KAAKgG,eAAiB,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACxFhG,KAAKiG,aACLjG,KAAKkG,kBACLlG,KAAKmG,iBACLnG,KAAKL,eACHyG,SACAC,UACA9F,WAIJmB,yBAAyB,SAAU6E,kBACjCvG,KAAKsG,mBACLtG,KAAKwG,8BAA8BD,iBAEnC,KAAK,GAAItC,KAAM,EAAGA,IAAMsC,iBAAiBjG,OAAQ2D,MAC/CjE,KAAKyG,gCAAgCxC,IAAKsC,iBAAiBtC,KAO7D,OAJAjE,MAAK0G,6BAEL1G,KAAK2G,oBAEE3G,KAAKL,eAGdgH,kBAAkB,WAChB3G,KAAKL,cAAc0G,OAAOvE,QAAQ,SAAU8E,SACxC,IAAK,GAAIC,GAAI,EAAGC,IAAMF,QAAQP,OAAO/F,OAAYwG,IAAJD,EAASA,IACpDD,QAAQP,OAAOQ,GAAMD,QAAQP,OAAOQ,IAAM,GAG9C7G,OAGJwG,8BAA8B,SAAUD,kBACtCA,iBAAiBQ,KAAK,SAAUC,EAAGC,GACjC,GAAIC,iBAAkBC,KAAKC,MAAMJ,EAAEK,MAC/BC,gBAAkBH,KAAKC,MAAMH,EAAEI,KACnC,OAAsBC,iBAAlBJ,gBAA0C,GAC1CA,gBAAkBI,gBAAwB,EACvC,KAIXC,kBAAkB,SAAUC,oBAC1B,IAAI1B,sBAAJ,CAEA,GAAI2B,QAASzH,KAAKmG,cAAcqB,mBAAmBE,KAAKC,KAAKxD,GAC7D,IAAIsD,OAAiB,CACnB,GAAIzH,KAAKkG,eAAeuB,SAAW,EAAG,CAEpCzH,KAAKkG,eAAeuB,QAAU,CAG9B,KAAK,GAFDxD,KAAMjE,KAAKiG,UAAUwB,QAAQG,QAExBf,EAAI7G,KAAKL,cAAc0G,OAAO/F,OAAS,EAAGuG,GAAK,EAAGA,IACzD7G,KAAKL,cAAc0G,OAAOQ,GAAGR,OAAOpC,MAAQjE,KAAKL,cAAc0G,OAAOQ,GAAGR,OAAOpC,MAAQ,GAAK,EAIjG,MADAjE,MAAKkG,eAAeuB,WACb,EAET,OAAO,IAGTI,iBAAiB,SAAUL,oBACzB,GAAIC,QAASD,mBAAmBE,KAAKI,KAAK3D,EAC1CnE,MAAK+H,uBAAuBP,mBAAmBE,KAAKI,MACpD9H,KAAKkG,eAAeuB,UACpBzH,KAAKmG,cAAcqB,mBAAmBE,KAAKC,KAAKxD,IAAMsD,QAGxDM,uBAAuB,SAAUC,eAC/B,IAAKhI,KAAKiG,UAAU+B,cAAc7D,IAAK,CACrCnE,KAAKkG,eAAe8B,cAAc7D,IAAM,CACxC,IAAIyD,SAAU5H,KAAKiI,aAAajI,KAAKiG,UACrCjG,MAAKiG,UAAU+B,cAAc7D,KAAOE,KAAK2D,cAAc3D,KAAMF,GAAG6D,cAAc7D,GAAIyD,QAAQA,QAASrH,MAAMP,KAAKgG,cAAc4B,QAAU5H,KAAKgG,cAAc1F,WAI7J4H,eAAe,SAAUV,oBACvB,GAAIW,cAAeX,mBAAmBE,KAAKU,WAAWjE,GAClDkE,YAAcb,mBAAmBE,KAAKY,UAAUnE,EAKpD,IAHAnE,KAAK+H,uBAAuBP,mBAAmBE,KAAKU,YACpDpI,KAAK+H,uBAAuBP,mBAAmBE,KAAKY,WAEhDtI,KAAKkG,eAAeiC,eAAiB,EAAG,CAE1CnI,KAAKkG,eAAeiC,cAAgB,CAIpC,KAHA,GAAIlE,KAAMjE,KAAKiG,UAAUkC,cAAcP,QAEnCf,EAAI0B,KAAKC,IAAI,EAAGxI,KAAKL,cAAc0G,OAAO/F,OAAS,GAChDuG,KACL7G,KAAKL,cAAc0G,OAAOQ,GAAGR,OAAOpC,MAAQjE,KAAKL,cAAc0G,OAAOQ,GAAGR,OAAOpC,MAAQ,GAAK,EAGjGjE,KAAKkG,eAAeiC,gBACpBnI,KAAKkG,eAAemC,eACpBrI,KAAKmG,cAAcqB,mBAAmBE,KAAKC,KAAKxD,IAAMkE,aAGxD5B,gCAAgC,SAAUgC,YAAajB,oBACrD,GAAIkB,eAAgBlB,mBAAmBH,KAEnCsB,WAAY,EAEZC,WAEAC,aAAe,YAGnBD,SAAyB,gBAAIC,aAC7BD,QAA8B,qBAAIC,aAClCD,QAA4B,mBAAIC,aAChCD,QAAkB,SAAIC,aACtBD,QAAoC,2BAAIC,aACxCD,QAAqB,YAAIC,aACzBD,QAAqB,YAAIC,aACzBD,QAA2B,kBAAIC,aAC/BD,QAAoC,2BAAIC,aACxCD,QAA6B,oBAAIC,aACjCD,QAAiC,wBAAIC,aACrCD,QAAyB,gBAAIC,aAC7BD,QAAqB,YAAIC,aACzBD,QAA0B,iBAAIC,aAE9BD,QAAoB,WAAI,WACtB5I,KAAK+H,uBAAuBP,mBAAmBE,KAAKI,OAGtDc,QAAyB,gBAAI,WAC3BD,UAAY3I,KAAKuH,kBAAkBC,qBAGrCoB,QAAoB,WAAI,WACtBD,WAAY,EACZ3I,KAAK6H,iBAAiBL,qBAGxBoB,QAAoB,WAAI,WACqB,GAAvCpB,mBAAmBE,KAAKC,KAAKmB,QAAwD,GAAtCtB,mBAAmBE,KAAKqB,IAAID,SAC7EH,UAAY3I,KAAKuH,kBAAkBC,qBAEhCA,mBAAmBE,KAAKY,WAAwBd,mBAAmBE,KAAKU,aAC3EO,WAAY,EACZ3I,KAAKkI,eAAeV,sBAIpBoB,QAAQpB,mBAAmBvE,MAC7B2F,QAAQpB,mBAAmBvE,MAAM+F,KAAKhJ,MAEtCiJ,QAAQ9F,MAAM,gCAAkCqE,mBAAmBvE,MAGjE0F,WACF3I,KAAKL,cAAc0G,OAAO6C,MAEtB9C,MAAMsC,cACNrC,OAAOrG,KAAKmJ,sCAMpBA,iCAAiC,WAC/B,GAAIC,4BACJ,KAAK,GAAI3B,UAAUzH,MAAKiG,UAAW,CACjC,GAAIhC,KAAMjE,KAAKiG,UAAUwB,QAAQG,OACjCwB,0BAAyBnF,KAAOjE,KAAKkG,eAAeuB,QAEtD,MAAO2B,2BAGTvH,8BAA8B,WAC5B,GAAID,yBACJ,KAAK,GAAI6F,UAAUzH,MAAKiG,UAAW,CACjC,GAAIhC,KAAMjE,KAAKiG,UAAUwB,QAAQG,OACjChG,uBAAsBqC,KAAOjE,KAAKiG,UAAUwB,QAE9C,MAAO7F,wBAGT8E,2BAA2B,WACzB,IAAK,GAAIe,UAAUzH,MAAKiG,UAAW,CACjC,GAAIhC,KAAMjE,KAAKiG,UAAUwB,QAAQG,OACjC5H,MAAKL,cAAcyG,MAAMnC,KAAOjE,KAAKiG,UAAUwB,QAAQpD,KACvDrE,KAAKL,cAAcY,MAAM0D,KAAOjE,KAAKgG,cAAc/B,IAAMjE,KAAKgG,cAAc1F,UAIhF2H,aAAa,SAAUoB,SACrB,GAAIxC,GAAI,CACR,KAAK,GAAIyC,OAAOD,SAAaA,QAAQE,eAAeD,MAAKzC,GACzD,OAAOA"}